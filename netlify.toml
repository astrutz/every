# Build configuration
[build]
publish = "dist/every/browser"
command = "npm run build"

[build.environment]
NODE_VERSION = "20"

# SPA Routing f√ºr Deep Links - these should come FIRST
[[redirects]]
from = "/de/*"
to = "/de/index.html"
status = 200

[[redirects]]
from = "/en/*"
to = "/en/index.html"
status = 200

[[redirects]]
from = "/bn/*"
to = "/bn/index.html"
status = 200

[[redirects]]
from = "/es/*"
to = "/es/index.html"
status = 200

[[redirects]]
from = "/fa/*"
to = "/fa/index.html"
status = 200

[[redirects]]
from = "/fr/*"
to = "/fr/index.html"
status = 200

[[redirects]]
from = "/hi/*"
to = "/hi/index.html"
status = 200

[[redirects]]
from = "/it/*"
to = "/it/index.html"
status = 200

[[redirects]]
from = "/ja/*"
to = "/ja/index.html"
status = 200

[[redirects]]
from = "/jv/*"
to = "/jv/index.html"
status = 200

[[redirects]]
from = "/pl/*"
to = "/pl/index.html"
status = 200

[[redirects]]
from = "/pt/*"
to = "/pt/index.html"
status = 200

[[redirects]]
from = "/ro/*"
to = "/ro/index.html"
status = 200

[[redirects]]
from = "/ru/*"
to = "/ru/index.html"
status = 200

[[redirects]]
from = "/tr/*"
to = "/tr/index.html"
status = 200

[[redirects]]
from = "/uk/*"
to = "/uk/index.html"
status = 200

[[redirects]]
from = "/vi/*"
to = "/vi/index.html"
status = 200

[[redirects]]
from = "/zh/*"
to = "/zh/index.html"
status = 200

# Root redirect to browser language
[[redirects]]
from = "/"
to = "/de"
status = 302
conditions = {Language = ["de"]}

[[redirects]]
from = "/"
to = "/en"
status = 302
conditions = {Language = ["en"]}
